@using Sheltos.ViewModel.User
@model ApplicationUser
@{
    Layout = "_Layout2";
}
<!-- breadcrumb start -->
<section class="breadcrumb-section p-0">
    <img src="~/assets/images/inner-background.jpg" class="bg-img img-fluid" alt="">
    <div class="container">
        <div class="breadcrumb-content">
            <div>
                <h2>Dashboard</h2>
                <nav aria-label="breadcrumb" class="theme-breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="HomePage.html">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">My profile</li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</section>
<!-- breadcrumb end -->
<!-- user dashboard section start -->
<section class="user-dashboard small-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="sidebar-user sticky-cls">
                    <form asp-action="ChangeImage" asp-controller="User" method="post" enctype="multipart/form-data">
                    <div class="user-profile">
                        <div class="media">
                            <div class="change-pic">
                                <img src="@Model.ProfileImageUrl" class="img-fluid update_img" alt="Profile">
                                <div class="change-hover">
                                    <button type="button" class="btn"><i data-feather="camera"></i></button>
                                    <input class="updateimg" type="file" name="ImageFile" onchange="this.form.submit();"/>
                                        <div id="loading-spinner" style="display:none;">
                                            <small>Uploading image...</small>
                                        </div>
                                </div>
                            </div>
                            <div class="media-body">
                                <h6>WELCOME!</h6>
                                <p>@Model.FullName</p>
                               
                            </div>
                           
                        </div>
                        <div class="connected-social">
                            <ul class="agent-social">
                                <li><a href="https://www.facebook.com/" class="facebook"><i class="fab fa-facebook-f"></i></a></li>
                                <li><a href="https://twitter.com/" class="twitter"><i class="fab fa-twitter"></i></a></li>
                                <li><a href="https://account.google.com/" class="google"><i class="fab fa-google"></i></a></li>
                                <li><a href="https://www.linkedin.com/" class="linkedin"><i class="fab fa-linkedin-in"></i></a></li>
                            </ul>
                        </div>
                    </div>
                    </form>
                    <div class="dashboard-list">
                        <ul class="nav nav-tabs right-line-tab">
                            <li class="nav-item">
                                <a class="nav-link active" asp-action="Dashboard" asp-controller="User">My profile</a>
                            </li>
                            <li class="nav-item"><a class="nav-link" asp-action="MyFavourites" asp-controller="Favourite">Favourites</a></li>
                            <li class="nav-item"><a class="nav-link " asp-action="Index" asp-controller="Card">Cards & payment</a></li>
                            <li class="nav-item"><a class="nav-link" asp-action="Privacy" asp-controller="User">Privacy</a></li>
                            <li class="nav-item"><a href="javascript:void(0)" data-bs-toggle="modal" data-bs-target="#logout" class="nav-link">Log out</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-lg-9">
                <div class="dashboard-content">
                    <div class="my-profile" id="profile">
                        <div class="profile-info">
                            <div class="common-card">
                                <div class="user-name media">
                                    <div class="media-body">
                                        <h4>@Model.FullName </h4>
                                        <div class="rating">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                    </div>
                                    <span data-bs-toggle="modal" data-bs-target="#edit-profile"  class="label label-light label-flat color-4">Edit</span>
                                </div>
                               
                            </div>
                            <div class="common-card">
                                <div class="row">
                                    <div class="col-xxl-6 col-xl-7">
                                        <div class="information-detail">
                                            <div class="common-header">
                                                <h5>About</h5>
                                            </div>
                                            <div class="information">
                                                <ul>
                                                    <li>
                                                        <span>Gender :</span>
                                                        <p>@Model.Gender</p>
                                                    </li>
                                                    <li>
                                                        <span>DateOfBirth :</span>
                                                        <p>@Model.DateOfBirth.ToString("dd/MM/yyyy")</p>
                                                    </li>
                                                    <li>
                                                        <span>Phone number :</span>
                                                        <p>
                                                            @Model.PhoneNumber
                                                        </p>
                                                    </li>
                                                    <li>
                                                        <span>Address :</span>
                                                        <p>@Model.Address</p>
                                                    </li>
                                                    <li>
                                                        <span>Email :</span>
                                                        <p>@Model.Email</p>
                                                        
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                       
                                    </div>
                                    <div class="col-xxl-5 offset-xxl-1 col-xl-5 offset-xl-0">
                                        <div class="about-img d-xl-block d-none">
                                            <img src="~/assets/images/inner-pages/2.png" class="img-fluid" alt="">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- user dashboard section end -->
<!-- edit profile modal start -->
<div class="modal fade edit-profile-modal" id="edit-profile">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Edit Profile</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form asp-action="EditProfile" asp-controller="User" method="post">
                    <div class="row gx-3">
                        <div class="form-group col-md-8">
                            <label asp-for="FullName">first name</label>
                            <input type="text" class="form-control" asp-for="FullName" placeholder="FullName">
                        </div>
                       
                        <div class="form-group col-md-6">
                            <label asp-for="Gender">gender</label>
                            <select asp-for="Gender" class="form-control">
                                <option value="">Choose...</option>
                                <option value="Female">female</option>
                                <option value="Male">male</option>
                            </select>
                        </div>
                        <div class="form-group col-md-6">
                            <label asp-for="DateOfBirth">DateOfBirth</label>
                            <input class="form-control" asp-for="DateOfBirth" placeholder="18 april" id="datepicker" />
                        </div>
                        <div class="form-group col-12">
                            <label asp-for="Address">Address</label>
                            <input type="text" class="form-control" asp-for="Address" placeholder="1234 Main St">
                        </div>
                        <div class="form-group col-md-6">
                            <label asp-for="Email">Email</label>
                            <input class="form-control" asp-for="Email" placeholder="gmail.com"  />
                        </div>
                        <div class="form-group col-md-6">
                            <label asp-for="PhoneNumber">PhoneNumber</label>
                            <input class="form-control" asp-for="PhoneNumber" placeholder="+234" />
                        </div>
                       
                    </div>
                    <div class="modal-footer">
                        <a asp-action="Dashboard" asp-controller="User" class="btn btn-dashed color-2 btn-pill" data-bs-dismiss="modal">Cancel</a>
                        <button type="submit" class="btn btn-gradient color-2 btn-pill" data-bs-dismiss="modal">Save changes</button>
                    </div>
                </form>
            </div>
            
        </div>
    </div>
</div>
<!-- edit profile modal start -->
<!-- edit card modal start -->
<div class="modal fade edit-profile-modal" id="edit-card">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">edit your card</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="name">name on card</label>
                        <input type="text" class="form-control" id="name" placeholder="Zack Lee">
                    </div>
                    <div class="form-group">
                        <label for="number">card number</label>
                        <input type="text" class="form-control" id="number" placeholder="5870 3174 8714 3401">
                    </div>
                    <div class="row gx-3">
                        <div class="form-group col-md-8">
                            <label for="expiry">expiry date</label>
                            <input type="text" class="form-control" id="expiry" placeholder="12/24">
                        </div>
                        <div class="form-group col-md-4">
                            <label for="cvv">cvv</label>
                            <input type="password" maxlength="3" class="form-control" id="cvv" placeholder="&#9679;&#9679;&#9679;">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-dashed color-2 btn-pill" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-gradient color-2 btn-pill" data-bs-dismiss="modal">update card</button>
            </div>
        </div>
    </div>
</div>
<!-- edit card modal start -->
<!-- add new card modal start -->
<div class="modal fade edit-profile-modal" id="add-card">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">add new card</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form >
                    <div class="form-group">
                        <label for="a-month">card type</label>
                        <select id="a-month" class="form-control">
                            <option selected>add new card...</option>
                            <option>credit card</option>
                            <option>debit card</option>
                            <option>debit card with ATM pin</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="a-na">name on card</label>
                        <input type="text" class="form-control" id="a-na">
                    </div>
                    <div class="form-group">
                        <label for="a-n">card number</label>
                        <input type="text" class="form-control" id="a-n">
                    </div>
                    <div class="row gx-3">
                        <div class="form-group col-md-8">
                            <label for="a-e">expiry date</label>
                            <input type="text" class="form-control" id="a-e">
                        </div>
                        <div class="form-group col-md-4">
                            <label for="a-c">cvv</label>
                            <input type="password" maxlength="3" class="form-control" id="a-c">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-dashed color-2 btn-pill" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-gradient color-2 btn-pill" data-bs-dismiss="modal">add card</button>
            </div>
        </div>
    </div>
</div>
<!-- add new card modal start -->
<!-- log out modal start -->
<div class="modal fade edit-profile-modal logout-modal" id="logout">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Logging out</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <h6>Are you sure ? you want to log out.</h6>
                <p>Once you will be logged out and will be unable to log in back.</p>
            </div>
            <div class="modal-footer">
                <a asp-action="Dashboard" asp-controller="User" class="btn btn-dashed color-2" data-bs-dismiss="modal">no</a>
                <a asp-action="Logout" asp-controller="Account" class="btn btn-gradient color-2">yes</a>
            </div>
        </div>
    </div>
</div>
<!-- log out modal end -->
<!-- customizer start -->
<div class="customizer-wrap">
    <div class="customizer-links">
        <i data-feather="settings"></i>
    </div>
    <div class="customizer-contain custom-scrollbar">
        <div class="setting-back">
            <i data-feather="x"></i>
        </div>
        <div class="layouts-settings">
            <div class="customizer-title">
                <h6 class="color-2">Layout type</h6>
            </div>
            <div class="option-setting">
                <span>Light</span>
                <label class="switch">
                    <input type="checkbox" name="chk1" value="option" class="setting-check"><span class="switch-state"></span>
                </label>
                <span>Dark</span>
            </div>
        </div>
        <div class="layouts-settings">
            <div class="customizer-title">
                <h6 class="color-2">Layout Direction</h6>
            </div>
            <div class="option-setting">
                <span>LTR</span>
                <label class="switch">
                    <input type="checkbox" name="chk2" value="option" class="setting-check1"><span class="switch-state"></span>
                </label>
                <span>RTL</span>
            </div>
        </div>
        <div class="layouts-settings">
            <div class="customizer-title">
                <h6 class="color-2">Unlimited Color</h6>
            </div>
            <div class="option-setting unlimited-color-layout">
                <div class="form-group">
                    <label for="ColorPicker3">color 3</label>
                    <input id="ColorPicker3" type="color" value="#ff5c41" name="Default">
                </div>
                <div class="form-group">
                    <label for="ColorPicker4">color 4</label>
                    <input id="ColorPicker4" type="color" value="#ff8c41" name="Default">
                </div>
            </div>
        </div>
    </div>
</div>
<!-- customizer end -->
<!-- latest jquery-->
<script src="../assets/js/jquery-3.6.0.min.js"></script>
<script>
    function readURL(input, index) {
        if (input.files && input.files[0]) {
            const reader = new FileReader();
            const loading = document.getElementById("loading-spinner");
            loading.style.display = "block"; // show loading spinner

            reader.onload = function (e) {
                document.getElementsByClassName("update_img")[index].src = e.target.result;
                setTimeout(() => {
                    input.form.submit(); // submit after preview
                }, 500); // wait 0.5s so user sees preview
            };

            reader.readAsDataURL(input.files[0]);
        }
    }
</script>

<!-- popper js-->
<script src="../assets/js/popper.min.js"></script>

<!-- feather icon js-->
<script src="../assets/js/feather-icon/feather.min.js"></script>
<script src="../assets/js/feather-icon/feather-icon.js"></script>

<!-- slick js -->
<script src="../assets/js/slick.js"></script>
<script src="../assets/js/slick-animation.min.js"></script>
<script src="../assets/js/custom-slick.js"></script>

<!-- datepicker js-->
<script src="../assets/js/date-picker.js"></script>

<!-- Bootstrap js-->
<script src="../assets/js/bootstrap.bundle.min.js"></script>

<!-- Template js-->
<script src="../assets/js/script.js"></script>

<!-- Customizer js-->
<script src="../assets/js/customizer.js"></script>

<script>

     (function($) {
         "use strict";
         // colorpicker js
         var color_picker3 = document.getElementById("ColorPicker3").value;
         document.getElementById("ColorPicker3").onchange = function() {
             color_picker3 = this.value;
             document.documentElement.style.setProperty('--theme-default3', color_picker3);
         };

         var color_picker4 = document.getElementById("ColorPicker4").value;
         document.getElementById("ColorPicker4").onchange = function() {
             color_picker4 = this.value;
             document.documentElement.style.setProperty('--theme-default4', color_picker4);
         };

     })(jQuery);

    $('#datepicker').datepicker({
         uiLibrary: 'bootstrap4',
         format: 'dd mmmm yy'
     });

</script>
